<!DOCTYPE html>

<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Login</title>
    <div th:replace="/templates/thymeleaf/fragments.html :: imports"></div>
    <link rel='stylesheet' href='/CSS/Estilos.css' type='text/css'>
</head>

<body class="p-3 mb-2 bg-dark text-white">
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', function() {
                navigator.serviceWorker.register('/JS/workers.js', {
                    scope: '/'
                }).then(function(registration) {
                    // Notificando el registro del service workwe
                    console.log('Registrando el servicio en el ambiente: ', registration.scope);
                }, function(err) {
                    console.log('Service Worker falló el registro: ', err);
                });
            });
        }
    </script>
    <div th:replace="/templates/thymeleaf/fragments.html :: navbar"></div>
    <div class="container-fluid">
        <div class="row separation-top">
            <div class="col align-self-center ">
                <h2>Ingreso de sesión</h2>
            </div>
        </div>
        <div class="form-row separation-top separation-bottom">
            <div class="col align-self-center ">
                <form method=post action="/public/login/" id="login" class="form">
                    <div class="col-4 offset-4">
                        <label for="id" class=big>ID de usuario:</label>
                    </div>
                    <div class="col-4 offset-4">
                        <input name="id" id="id" type="text" placeholder="Ingrese su ID" class="form-control form-control-lg col-3" required />
                    </div>
                    <div class="col-4 offset-4 separation-top">
                        <label for="contra" class=big>Contraseña:</label>
                    </div>
                    <div class="col-4 offset-4">
                        <input name="contra" id="contra" type="password" placeholder="Ingrese su contraseña" class="form-control form-control-lg col-3" required />
                    </div>
                    <div class="col-4 offset-4">
                        <input type="checkbox" id="rememberMe" name="rememberMe" form=login>
                        <label for="rememberMe">Mantener conectado</label>
                    </div>

                    <div class="col-4 offset-4 separation-top">
                        <button class="btn btn-success " type=submit form=login>Iniciar sesión</button>
                    </div>
                    <div class="col-4 offset-4 separation-top">
                        <h3 th:text="${error} ? 'ID o contraseña incorrectos' : ''" style="color: red; "></h3>
                    </div>
                </form>
            </div>
        </div>

    </div>
</body>

</html>